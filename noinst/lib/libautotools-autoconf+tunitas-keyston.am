# This is a GNU -*- Makefile -*- fragment which is managed by automake
# Copyright Yahoo Inc.
# Licensed under the terms of the Apache-2.0 license.
# For terms and provenance see the LICENSE file at the top of this repository.
# For terms, see the LICENSE file at https://github.com/yahoo/tunitas-keyston/blob/master/LICENSE
# For terms, see the LICENSE file at https://git.tunitas.technology/all/components/keyston/tree/LICENSE
#
noinst_lib_libautotools_autoconf_tunitas_keyston_la_CPPFLAGS = $(PACKAGE_CPPFLAGS_SET)
noinst_lib_libautotools_autoconf_tunitas_keyston_la_CXXFLAGS = $(PACKAGE_CXXFLAGS_SET)
noinst_lib_libautotools_autoconf_tunitas_keyston_la_LDFLAGS = $(PACKAGE_LDFLAGS_SET)
noinst_lib_libautotools_autoconf_tunitas_keyston_la_LIBADD = 
noinst_lib_libautotools_autoconf_tunitas_keyston_la_MODULES = $(call HT_SOURCEStoMODULES,$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES))
noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES = obj/src/autotools/autoconf/Config/tunitas/keyston/CONFIG.cpp
#
# all these overrides because we want to install the Config<CONFIG> so it must be in ht_objdir not in ht_noinst_objdir 
#
# autotools_autoconf_SUBCONFIGasDOTS    = autotools.autoconf.tunitas.Config.tunitas.keyston.CONFIG
# autotools_autoconf_SUBCONFIGasSLASHES = autotools/autoconf/Config/tunitas/keyston/CONFIG
autotools_autoconf_SUBSOURCE.config.h = config.h # MUST match the value given in configure.ac AC_CONFIG_HEADRES([config.h])
autotools_autoconf_SUBSOURCE.fpp      = $(ht_cxx_modulesdir)/fpp/$(autotools_autoconf_SUBCONFIGasDOTS)
autotools_autoconf_SUBSOURCE.hpp      = $(ht_cxx_modulesdir)/hpp/$(autotools_autoconf_SUBCONFIGasDOTS)
autotools_autoconf_SUBSOURCE.ipp      = $(ht_cxx_modulesdir)/ipp/$(autotools_autoconf_SUBCONFIGasDOTS)
autotools_autoconf_SUBSOURCE.tpp      = $(ht_cxx_modulesdir)/$(autotools_autoconf_SUBCONFIGasDOTS)
autotools_autoconf_SUBSOURCE.cpp      = $(ht_cxx_srcdir)/$(autotools_autoconf_SUBCONFIGasSLASHES).cpp
autotools_autoconf_SUBSOURCE.xcpp     = $(ht_cxx_srcdir)/$(autotools_autoconf_SUBCONFIGasSLASHES).xcpp
autotools_autoconf_IMPORT = tunitas.keyston
include $(hypogeal_twilight_datadir)/mk/autotools/autoconf/noinst.lib.Makefrag.mk
#
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : disco_objdir=obj# $(ht_objdir)
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : disco_srcdir=$(ht_cxx_srcdir)
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : scold_objdir=$(disco_objdir)# [[REMOVE]] later when we can rely on disco_objdir, disco_srcdir
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : scold_srcdir=$(disco_srcdir)# [[REMOVE]] later when we can rely on disco_objdir, disco_srcdir
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : DISCOFLAGS+=--no-insert-namespace
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : DC_FLAGS+=$(DISCOFLAGS)# ..... [[REMOVETHIS]] once we trust that $(DISCOFLAGS) is ubiquitous
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : bbDC_FLAGS+=$(DISCOFLAGS)# ... [[REMOVETHIS]] eadem ratione
$(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES) : obj/src/%.cpp : obj/src/%.xcpp
	: srcdir scold_srcdir=$(scold_srcdir) ht_srcdir=$(ht_srcdir) disco_srcdir=$(disco_srcdir)
	: objdir scold_objdir=$(scold_objdir) ht_objdir=$(ht_objdir) disco_objdir=$(disco_objdir)
	$(HT_V_COLD) $(call HT_XCPP2CPP, $<)
	@test -e $@
$(ht_noinst_mkdir)/libautotools-autoconf+tunitas-keyston.mk: $(noinst_lib_libautotools_autoconf_tunitas_keyston_la_SOURCES)
$(ht_noinst_mkdir)/libautotools-autoconf+tunitas-keyston.mk:
	$(HT_V_BOTH) $(call HT_DEPENDENCIES, $^)
	@test -e $@
include $(ht_noinst_mkdir)/libautotools-autoconf+tunitas-keyston.mk
clean-dependencies::
	rm -f $(ht_noinst_mkdir)/libautotools-autoconf+tunitas-keyston.mk
