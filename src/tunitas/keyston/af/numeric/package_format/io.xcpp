// This is -*- c++ -*- nearly C++23 with Modules TS but in the S.C.O.L.D. stylings that are so popular these days.
// Copyright Yahoo Inc.
// Licensed under the terms of the Apache-2.0 license.
// For terms, see the LICENSE file at https://github.com/yahoo/tunitas-keyston/blob/master/LICENSE
// For terms, see the LICENSE file at https://git.tunitas.technology/all/components/keyston/tree/LICENSE
#divert <hpp>
#import tunitas.keyston.af.numeric.package_format.Formatter
#import tunitas.keyston.af.numeric.Aggregation
#import std.ostream
namespace tunitas::keyston::af::numeric::package_format::body {
  inline auto operator<<(std::ostream &, Formatter<Aggregation, Aggregation const &> const &) -> std::ostream &;
};
#endiv
#divert <ipp>
#import tunitas.variant.Visitor
#import tunitas.variant.visit
#import tunitas.keyston.measurement.format
namespace tunitas::keyston::af::numeric::package_format {
  auto body::operator<<(std::ostream &outbound, Formatter<Aggregation, Aggregation const &> const &formatter) -> std::ostream & {
    // find and call the other format(...) of the components within the variant
    auto visitor = variant::Visitor{[&outbound](auto const &something) -> std::ostream & { return outbound << format(something); }};
    return visit(visitor, formatter.captured);
  }
}
#endiv
